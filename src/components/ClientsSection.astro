---
import PartnerCard from "./PartnerCard.astro";

// Define props from Astro
const { title, subTitle } = Astro.props;

// Define TypeScript interface for props
interface Props {
  title: string;
  subTitle?: string;
}

const offers = [
  {
    imageURL: "stayr.png",
    offerText: "Stayr",
  },
  {
    imageURL: "ibis.png",
    offerText: "Ibis",
  },
  {
    imageURL: "klook.png",
    offerText: "Klook",
  },
  {
    imageURL: "tiktok.png",
    offerText: "TikTok",
  },
  {
    imageURL: "subway.png",
    offerText: "Subway",
  },
  {
    imageURL: "crosscoop.png",
    offerText: "Cross Coop",
  },
  {
    imageURL: "spinelli.png",
    offerText: "Spinelli",
  },
  {
    imageURL: "mox.png",
    offerText: "MOX",
  },
  {
    imageURL: "socialchamber.jpeg",
    offerText: "Social Chamber",
  },
  {
    imageURL: "stsignature.png",
    offerText: "ST Signature",
  },
  {
    imageURL: "oriential_food.jpg",
    offerText: "Oriental Food",
  },
  {
    imageURL: "furama.png",
    offerText: "Furama",
  },
  {
    imageURL: "distrii.png",
    offerText: "Distrii",
  },
  {
    imageURL: "wardieres.png",
    offerText: "Wardieres",
  },
  {
    imageURL: "hotelg.png",
    offerText: "Hotel G",
  },
  {
    imageURL: "Ah Gong KKM.jpg",
    offerText: "Ah Gong KKM",
  },
  {
    imageURL: "Babies Bliss.jpeg",
    offerText: "Babies Bliss",
  },
  {
    imageURL: "Bachi Bachi Restaurant.jpeg",
    offerText: "Bachi Bachi Restaurant",
  },
  {
    imageURL: "baofachachaanteng 1.jpeg",
    offerText: "Bao Fa Cha Cha Anteng",
  },
  {
    imageURL: "Basil King 1.jpeg",
    offerText: "Basil King",
  },
  {
    imageURL: "Cheeky Signatures Restaurant.jpeg",
    offerText: "Cheeky Signatures",
  },
  {
    imageURL: "Creamie Sippies.png.webp",
    offerText: "Creamie Sippies",
  },
  {
    imageURL: "DMC Karting.png",
    offerText: "DMC Karting",
  },
  {
    imageURL: "Dong Smokes.png",
    offerText: "Dong Smokes",
  },
  {
    imageURL: "Evan_s Kitchen.jpeg",
    offerText: "Evan's Kitchen",
  },
  {
    imageURL: "Fat Fish Restaurant.jpeg",
    offerText: "Fat Fish Restaurant",
  },
  {
    imageURL: "Fook Kin Restaurant.png",
    offerText: "Fook Kin Restaurant",
  },
  {
    imageURL: "Huang Lao Dou.jpeg",
    offerText: "Huang Lao Dou",
  },
  {
    imageURL: "iDrink.png",
    offerText: "iDrink",
  },
  {
    imageURL: "Joomak Restaurant.png",
    offerText: "Joomak Restaurant",
  },
  {
    imageURL: "Just Thai 1.jpeg",
    offerText: "Just Thai",
  },
  {
    imageURL: "JWC Cafe.png",
    offerText: "JWC Cafe",
  },
  {
    imageURL: "Jyu Yae Bistro.jpeg",
    offerText: "Jyu Yae Bistro",
  },
  {
    imageURL: "Keebs Project.jpeg",
    offerText: "Keebs Project",
  },
  {
    imageURL: "Kimrobinson.jpg",
    offerText: "Kim Robinson",
  },
  {
    imageURL: "Laifaba Restaurant 1.jpeg",
    offerText: "Laifaba Restaurant",
  },
  {
    imageURL: "LFG Content Co.png.webp",
    offerText: "LFG Content Co",
  },
  {
    imageURL: "Longjing Restaurant.jpeg",
    offerText: "Longjing Restaurant",
  },
  {
    imageURL: "Maxi Home 1.jpeg",
    offerText: "Maxi Home",
  },
  {
    imageURL: "Meet 4 Meat.jpg",
    offerText: "Meet 4 Meat",
  },
  {
    imageURL: "Mega Furniture.webp",
    offerText: "Mega Furniture",
  },
  {
    imageURL: "Micasa Kitchen & Bar 1.webp.png",
    offerText: "Micasa Kitchen & Bar",
  },
  {
    imageURL: "Mode Aesthetics 1.jpg.avif",
    offerText: "Mode Aesthetics",
  },
  {
    imageURL: "Nan Yang Dao 1.png",
    offerText: "Nan Yang Dao",
  },
  {
    imageURL: "Nana Dolly Cafe.jpeg",
    offerText: "Nana Dolly Cafe",
  },
  {
    imageURL: "OH!SOME 1.jpeg",
    offerText: "OH!SOME",
  },
  {
    imageURL: "Ola Home.jpeg",
    offerText: "Ola Home",
  },
  {
    imageURL: "Oriental Food Restaurant.png",
    offerText: "Oriental Food",
  },
  {
    imageURL: "Origanics SG.png",
    offerText: "Origanics SG",
  },
  {
    imageURL: "Owen_s Restaurant.jpg",
    offerText: "Owen's Restaurant",
  },
  {
    imageURL: "Pacific Kopi.jpeg",
    offerText: "Pacific Kopi",
  },
  {
    imageURL: "Padi Kopitiam.png",
    offerText: "Padi Kopitiam",
  },
  {
    imageURL: "Palates & Bagels.png",
    offerText: "Palates & Bagels",
  },
  {
    imageURL: "Pancakes & Friends Cafe.png",
    offerText: "Pancakes & Friends",
  },
  {
    imageURL: "Porcelain Hotel 1.png",
    offerText: "Porcelain Hotel",
  },
  {
    imageURL: "Principle Cafe.jpeg",
    offerText: "Principle Cafe",
  },
  {
    imageURL: "Rage Foods.png",
    offerText: "Rage Foods",
  },
  {
    imageURL: "Restaurant Aisyah.png",
    offerText: "Restaurant Aisyah",
  },
  {
    imageURL: "ROKU Sake Bar.png",
    offerText: "ROKU Sake Bar",
  },
  {
    imageURL: "San Dai Fishball.png",
    offerText: "San Dai Fishball",
  },
  {
    imageURL: "San Dai Yong Tau Foo.png",
    offerText: "San Dai Yong Tau Foo",
  },
  {
    imageURL: "Silk Tea 1.jpg",
    offerText: "Silk Tea",
  },
  {
    imageURL: "Singapore Card Show.jpeg",
    offerText: "Singapore Card Show",
  },
  {
    imageURL: "Singapore Comic Con 1.png.webp",
    offerText: "Singapore Comic Con",
  },
  {
    imageURL: "Style Palate.png",
    offerText: "Style Palate",
  },
  {
    imageURL: "Sweedy.png",
    offerText: "Sweedy",
  },
  {
    imageURL: "Tash Tish Tosh.png",
    offerText: "Tash Tish Tosh",
  },
  {
    imageURL: "Temper Restaurant.png",
    offerText: "Temper Restaurant",
  },
  {
    imageURL: "Toppen Shopping Centre 1.png",
    offerText: "Toppen Shopping Centre",
  },
  {
    imageURL: "TOPTABLE 1.webp",
    offerText: "TOPTABLE",
  },
  {
    imageURL: "WATCHSKINS.png",
    offerText: "WATCHSKINS",
  },
  {
    imageURL: "West Mall 1.png",
    offerText: "West Mall",
  },
  {
    imageURL: "Wong Fu Fu.jpeg",
    offerText: "Wong Fu Fu",
  },
  {
    imageURL: "Wu Da Lang Hotpot.jpeg",
    offerText: "Wu Da Lang Hotpot",
  },
  {
    imageURL: "Yoru Omakase.jpeg",
    offerText: "Yoru Omakase",
  },
  {
    imageURL: "Yu Chun Curry Fish.jpeg",
    offerText: "Yu Chun Curry Fish",
  },
];

// Divide offers into 3 rows
const itemsPerRow = Math.ceil(offers.length / 3);
const row1 = offers.slice(0, itemsPerRow);
const row2 = offers.slice(itemsPerRow, itemsPerRow * 2);
const row3 = offers.slice(itemsPerRow * 2);
---

<style>
  .carousel-container {
    overflow: hidden;
    background: transparent;
  }

  .carousel-track {
    display: flex;
    gap: 2rem;
    animation: scroll 60s linear infinite;
    padding: 1rem;
    will-change: transform;
  }

  .carousel-track:hover {
    animation-play-state: paused;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .carousel-item {
    flex-shrink: 0;
  }

  .carousel-row {
    margin-bottom: 2rem;
  }
</style>

<section class="py-20 text-center pb-50">
  <h1 class="purpleText text-5xl italic uppercase">{title}</h1>
  <p class="text-white">{subTitle}</p>
  
  <div class="carousel-row">
    <div class="carousel-container">
      <div class="carousel-track">
        {
          row1.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
        {
          row1.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
      </div>
    </div>
  </div>

  <div class="carousel-row">
    <div class="carousel-container">
      <div class="carousel-track">
        {
          row2.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
        {
          row2.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
      </div>
    </div>
  </div>

  <div class="carousel-row">
    <div class="carousel-container">
      <div class="carousel-track">
        {
          row3.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
        {
          row3.map((offer) => (
            <div class="carousel-item">
              <PartnerCard imageURL={offer.imageURL} text={offer.offerText} />
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
